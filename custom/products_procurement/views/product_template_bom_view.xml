<?xml version="1.0"?>
<odoo>
  <record id="view_stock_product_template_tree_enhanced" model="ir.ui.view">
      <field name="name">product.template.by.bom.tree.inherit</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="product.product_template_tree_view"/>
      <field name="arch" type="xml">
          <field name="uom_id" position="before">
            <field name="incoming_qty" attrs="{'invisible':[('type', '!=', 'product')]}" optional="show" />
            <field name="outgoing_qty" attrs="{'invisible':[('type', '!=', 'product')]}" optional="show" />
            <field name="bom_line_ids" widget="many2many_tags" context="{'product_tmpl_id': product_tmpl_id}"/>
          </field>
      </field>
  </record>
</odoo>
